<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - Greenify Kenya</title>
  <link rel="stylesheet" href="./assets/css/style.css">
  <link rel="stylesheet" href="./assets/css/checkout.css">
</head>
<body>
  <!-- Business Header (Same as index.html) -->
  <header class="business-header">
    <div class="top-bar">
      <div class="container">
        <div class="top-bar-content">
          <span>üìû Free Delivery in Nairobi | üïí Mon-Sun: 8AM-8PM</span>
          <div class="top-bar-links">
            <a href="index.html#care">Plant Care</a>
            <a href="index.html#contact">Contact</a>
          </div>
        </div>
      </div>
    </div>
    
    <nav class="main-nav">
      <div class="container">
        <div class="nav-brand">
          <a href="index.html" style="text-decoration: none; color: inherit;">
            <span class="brand-name">GREENIFY</span>
          </a>
        </div>
        
        <div class="nav-actions">
          <a href="index.html" class="btn btn-secondary">Continue Shopping</a>
          <button class="wishlist-btn">‚ù§Ô∏è</button>
          <button class="cart-btn">üõí <span class="cart-count">0</span></button>
        </div>

        <div class="mobile-menu-btn">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </nav>
  </header>

  <!-- Checkout Progress Bar -->
  <section class="checkout-progress">
    <div class="container">
      <div class="progress-steps">
        <div class="step active">
          <span class="step-number">1</span>
          <span class="step-label">Delivery</span>
        </div>
        <div class="step">
          <span class="step-number">2</span>
          <span class="step-label">Payment</span>
        </div>
        <div class="step">
          <span class="step-number">3</span>
          <span class="step-label">Confirmation</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Checkout Content -->
  <main class="checkout-main">
    <div class="container">
      <div class="checkout-layout">
        <!-- Checkout Steps -->
        <div class="checkout-steps">
          <h1>Checkout</h1>

          <!-- Step 1: Delivery Information -->
          <div class="checkout-step active" id="step-1">
            <h2>Delivery Information</h2>
            
            <div class="delivery-options">
              <div class="delivery-option active">
                <input type="radio" name="delivery" id="nairobi-delivery" checked>
                <label for="nairobi-delivery">
                  <strong>Nairobi Delivery</strong>
                  <span>KSh 200 (Free on orders over KSh 2,000)</span>
                  <span>2-4 hour delivery window</span>
                </label>
              </div>
              
              <div class="delivery-option">
                <input type="radio" name="delivery" id="pickup">
                <label for="pickup">
                  <strong>Store Pickup</strong>
                  <span>Free - Collect from our Nairobi store</span>
                  <span>Ready in 1-2 hours</span>
                </label>
              </div>
            </div>

            <form class="delivery-form" id="delivery-form">
              <div class="form-row">
                <div class="form-group">
                  <label>Full Name *</label>
                  <input type="text" name="fullName" required placeholder="John Doe">
                </div>
                <div class="form-group">
                  <label>Phone Number *</label>
                  <input type="tel" name="phone" required placeholder="+254 7XX XXX XXX">
                </div>
              </div>
              
              <div class="form-group">
                <label>Email Address *</label>
                <input type="email" name="email" required placeholder="your@email.com">
              </div>

              <div class="form-group">
                <label>Delivery Address *</label>
                <textarea name="address" required placeholder="House number, street, area, Nairobi"></textarea>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Delivery Date</label>
                  <input type="date" name="deliveryDate" id="delivery-date" min="<?= date('Y-m-d') ?>">
                </div>
                <div class="form-group">
                  <label>Delivery Time</label>
                  <select name="deliveryTime">
                    <option value="9am-12pm">9:00 AM - 12:00 PM</option>
                    <option value="12pm-3pm">12:00 PM - 3:00 PM</option>
                    <option value="3pm-6pm">3:00 PM - 6:00 PM</option>
                    <option value="6pm-8pm">6:00 PM - 8:00 PM</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label>Delivery Instructions (Optional)</label>
                <textarea name="instructions" placeholder="Gate code, landmarks, etc."></textarea>
              </div>

              <div class="step-actions">
                <a href="index.html" class="btn btn-secondary">Continue Shopping</a>
                <button type="button" class="btn btn-primary next-step" data-next="2">Continue to Payment</button>
              </div>
            </form>
          </div>

          <!-- Step 2: Payment Method -->
          <div class="checkout-step" id="step-2">
            <h2>Payment Method</h2>
            
            <div class="payment-options">
              <div class="payment-option active">
                <input type="radio" name="payment" id="mpesa" checked>
                <label for="mpesa">
                  <div class="payment-icon">üì±</div>
                  <div class="payment-info">
                    <strong>M-Pesa</strong>
                    <span>Pay via M-Pesa till number</span>
                  </div>
                </label>
              </div>

              <div class="payment-option">
                <input type="radio" name="payment" id="cash">
                <label for="cash">
                  <div class="payment-icon">üíµ</div>
                  <div class="payment-info">
                    <strong>Cash on Delivery</strong>
                    <span>Pay when you receive your plants</span>
                  </div>
                </label>
              </div>

              <div class="payment-option">
                <input type="radio" name="payment" id="card">
                <label for="card">
                  <div class="payment-icon">üí≥</div>
                  <div class="payment-info">
                    <strong>Credit/Debit Card</strong>
                    <span>Pay securely with your card</span>
                  </div>
                </label>
              </div>
            </div>

            <!-- M-Pesa Payment Details -->
            <div class="payment-details active" id="mpesa-details">
              <div class="mpesa-instructions">
                <h4>How to Pay with M-Pesa</h4>
                <ol>
                  <li>Go to <strong>Lipa Na M-Pesa</strong> on your phone</li>
                  <li>Select <strong>Buy Goods and Services</strong></li>
                  <li>Enter Till Number: <strong id="mpesa-till">123456</strong></li>
                  <li>Enter Amount: <strong id="mpesa-amount">KSh 0</strong></li>
                  <li>Enter your M-Pesa PIN</li>
                  <li>Wait for confirmation message</li>
                </ol>
              </div>
              
              <div class="mpesa-confirm">
                <label>Enter M-Pesa Transaction Code *</label>
                <input type="text" name="mpesaCode" required placeholder="e.g., RLX9B2QH5F" pattern="[A-Z0-9]{10}">
                <small>10-digit code from your M-Pesa confirmation message</small>
              </div>
            </div>

            <!-- Card Payment Details -->
            <div class="payment-details" id="card-details">
              <div class="form-row">
                <div class="form-group">
                  <label>Card Number *</label>
                  <input type="text" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label>Expiry Date *</label>
                  <input type="text" name="expiry" placeholder="MM/YY" maxlength="5">
                </div>
                <div class="form-group">
                  <label>CVV *</label>
                  <input type="text" name="cvv" placeholder="123" maxlength="3">
                </div>
              </div>
              
              <div class="form-group">
                <label>Cardholder Name *</label>
                <input type="text" name="cardName" placeholder="As shown on card">
              </div>
            </div>

            <!-- Cash on Delivery Details -->
            <div class="payment-details" id="cash-details">
              <div class="cash-instructions">
                <h4>Cash on Delivery</h4>
                <p>Please have exact change ready for the delivery person.</p>
                <p><strong>Total Amount: <span id="cash-amount">KSh 0</span></strong></p>
                <p>Our delivery agent will contact you 30 minutes before arrival.</p>
              </div>
            </div>

            <div class="step-actions">
              <button type="button" class="btn btn-secondary prev-step" data-prev="1">Back to Delivery</button>
              <button type="button" class="btn btn-primary next-step" data-next="3">Continue to Confirmation</button>
            </div>
          </div>

          <!-- Step 3: Order Confirmation -->
          <div class="checkout-step" id="step-3">
            <h2>Confirm Your Order</h2>
            
            <div class="order-summary-detailed">
              <div class="summary-section">
                <h4>Delivery Information</h4>
                <div id="confirm-delivery"></div>
              </div>
              
              <div class="summary-section">
                <h4>Payment Method</h4>
                <div id="confirm-payment"></div>
              </div>
              
              <div class="summary-section">
                <h4>Order Items</h4>
                <div class="order-items-detailed" id="confirm-items"></div>
              </div>
              
              <div class="summary-totals-detailed">
                <div class="total-row">
                  <span>Subtotal:</span>
                  <span id="confirm-subtotal">KSh 0</span>
                </div>
                <div class="total-row">
                  <span>Delivery:</span>
                  <span id="confirm-delivery-cost">KSh 0</span>
                </div>
                <div class="total-row grand-total">
                  <span>Total:</span>
                  <span id="confirm-total">KSh 0</span>
                </div>
              </div>
            </div>

            <div class="terms-agreement">
              <input type="checkbox" id="terms" required>
              <label for="terms">I agree to the <a href="#terms">Terms of Service</a> and <a href="#privacy">Privacy Policy</a></label>
            </div>

            <div class="step-actions">
              <button type="button" class="btn btn-secondary prev-step" data-prev="2">Back to Payment</button>
              <button type="button" class="btn btn-primary" id="place-order">Place Order</button>
            </div>
          </div>
        </div>

        <!-- Order Summary Sidebar -->
        <aside class="order-summary-sidebar">
          <div class="summary-card">
            <h3>Order Summary</h3>
            <div class="order-items-preview" id="order-items-preview">
              <!-- Cart items will be loaded here -->
            </div>
            <div class="summary-totals">
              <div class="total-row">
                <span>Subtotal:</span>
                <span id="sidebar-subtotal">KSh 0</span>
              </div>
              <div class="total-row">
                <span>Delivery:</span>
                <span id="sidebar-delivery">KSh 200</span>
              </div>
              <div class="total-row grand-total">
                <span>Total:</span>
                <span id="sidebar-total">KSh 0</span>
              </div>
            </div>
            <div class="free-shipping-notice">
              <p>üéâ You qualify for <strong>FREE delivery</strong> on orders over KSh 2,000!</p>
            </div>
          </div>

          <div class="trust-badges-checkout">
            <div class="trust-badge">
              <span>üîí</span>
              <span>Secure Payment</span>
            </div>
            <div class="trust-badge">
              <span>üíö</span>
              <span>30-Day Guarantee</span>
            </div>
            <div class="trust-badge">
              <span>üìû</span>
              <span>24/7 Support</span>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </main>

  <!-- Order Success Modal -->
  <div id="order-success" class="order-success-modal">
    <div class="success-content">
      <div class="success-icon">‚úÖ</div>
      <h2>Order Placed Successfully!</h2>
      <p>Thank you for your order. We're preparing your plants for delivery.</p>
      
      <div class="order-details">
        <p><strong>Order ID:</strong> <span id="success-order-id">GFY-0001</span></p>
        <p><strong>Estimated Delivery:</strong> <span id="success-delivery-time">Today, 2-4 hours</span></p>
        <p><strong>Total Paid:</strong> <span id="success-total">KSh 0</span></p>
      </div>

      <div class="success-actions">
        <a href="index.html" class="btn btn-primary">Continue Shopping</a>
        <button class="btn btn-secondary" id="track-order">Track Your Order</button>
      </div>
    </div>
  </div>

  <script src="./assets/js/checkout.js"></script>
</body>
</html>